# Ubuntu 25.10 GNOME dconf settings
# This file is loaded before gnome-shell starts using `dconf load / < dconf-settings.ini`
# Goal: Look like a fresh Ubuntu 25.10 install with dark mode

# Desktop Background - Helix wallpaper
[org/gnome/desktop/background]
picture-uri='file:///usr/share/backgrounds/helix-logo.png'
picture-uri-dark='file:///usr/share/backgrounds/helix-logo.png'
picture-options='zoom'
primary-color='#1e1e28'
secondary-color='#1e1e28'

# Interface - Ubuntu Yaru Dark Theme
# NOTE: Helix-Invisible cursor theme enables client-side cursor rendering.
# The cursor is invisible at the compositor level; we capture the cursor
# shape via hotspot fingerprinting and render it in the browser.
[org/gnome/desktop/interface]
gtk-theme='Yaru-dark'
icon-theme='Yaru'
cursor-theme='Helix-Invisible'
cursor-size=48
color-scheme='prefer-dark'
font-name='Ubuntu 11'
document-font-name='Sans 11'
monospace-font-name='Ubuntu Mono 13'
enable-animations=true
font-antialiasing='grayscale'
font-hinting='slight'

# Window Manager - Ubuntu-style window buttons
[org/gnome/desktop/wm/preferences]
button-layout='appmenu:minimize,maximize,close'
titlebar-font='Ubuntu Bold 11'
num-workspaces=4

# Mutter compositor settings
[org/gnome/mutter]
edge-tiling=true
dynamic-workspaces=false
workspaces-only-on-primary=true

# GNOME Shell - Ubuntu Dock and favorite apps
[org/gnome/shell]
disable-user-extensions=false
enabled-extensions=['ubuntu-dock@ubuntu.com', 'just-perfection-desktop@just-perfection', 'helix-cursor@helix.ml']
favorite-apps=['firefox.desktop', 'dev.zed.Zed-Dev.desktop', 'com.mitchellh.ghostty.desktop', 'org.gnome.Nautilus.desktop']

# Ubuntu Dock configuration
[org/gnome/shell/extensions/dash-to-dock]
dock-position='LEFT'
dash-max-icon-size=48
show-trash=false
show-mounts=false
extend-height=true

# Just Perfection extension - hide screen recording indicator
# This prevents users from clicking the "stop" button which breaks the stream
[org/gnome/shell/extensions/just-perfection]
screen-recording-indicator=false
screen-sharing-indicator=false

# Power Management - Disable screen blanking for containers
[org/gnome/desktop/session]
idle-delay=0

[org/gnome/desktop/screensaver]
lock-enabled=false
idle-activation-enabled=false
show-notifications=false

# Desktop Lockdown - No lock screen in containers
[org/gnome/desktop/lockdown]
disable-lock-screen=true

# Notifications - Suppress banners to avoid clutter
[org/gnome/desktop/notifications]
show-banners=false
show-in-lock-screen=false

# File Manager - List view preference
[org/gnome/nautilus/preferences]
default-folder-viewer='list-view'

# Keyboard Input Sources
[org/gnome/desktop/input-sources]
sources=[('xkb', 'us'), ('xkb', 'gb'), ('xkb', 'fr'), ('xkb', 'de'), ('xkb', 'es'), ('xkb', 'it'), ('xkb', 'pt'), ('xkb', 'jp')]
xkb-options=['caps:ctrl_nocaps']
per-window=false

# Default Terminal Application - Ghostty with blur support
[org/gnome/desktop/applications/terminal]
exec='ghostty'
exec-arg='-e'

# GNOME Terminal Profile Settings
# Profile ID is a UUID - we use a fixed one for reproducibility
# Scrollback increased from default 10,000 to 500,000 lines (50x)
[org/gnome/terminal/legacy/profiles:/:b1dcc9dd-5262-4d8d-a863-c897e6d979b9]
visible-name='Default'
use-theme-colors=true
scrollback-lines=500000
scrollback-unlimited=false
audible-bell=false
use-system-font=true

[org/gnome/terminal/legacy/profiles:]
default='b1dcc9dd-5262-4d8d-a863-c897e6d979b9'
list=['b1dcc9dd-5262-4d8d-a863-c897e6d979b9']

[org/gnome/terminal/legacy]
theme-variant='dark'
default-show-menubar=false
