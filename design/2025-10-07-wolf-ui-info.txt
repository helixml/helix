Introducing profiles
After a lot of discussion in the dev channels, I've added a new concept in Wolf: profiles. This will be particularly useful for wolf-ui which will be the new entrypoint when starting a Moonlight streaming session and will allow to:

easily pick up a profile and start an app (this will allow you to carry over savegames and state between different Moonlight clients)
easily join another streaming session for co-op playing.
The format in config.toml is the following

[[profiles]]
id = 'moonlight-profile-id'

    [[profiles.apps]]
    title = 'Wolf UI'

        [profiles.apps.runner]
        run_cmd = '/home/ale/repos/wolf-ui/src/wolf-ui'
        type = 'process'

    [[profiles.apps]]
    start_audio_server = false
    start_virtual_compositor = false
    title = 'Test ball'

        [profiles.apps.audio]
        source = 'audiotestsrc wave=ticks is-live=true'

        [profiles.apps.runner]
        run_cmd = "sh -c \"while :; do echo 'running...'; sleep 10; done\""
        type = 'process'

        [profiles.apps.video]
        source = '''videotestsrc pattern=ball flip=true is-live=true !
                           video/x-raw, framerate={fps}/1'''

[[profiles]]
id = 'user'
name = 'User'
apps = []
We'll automatically migrate from the current config.toml by:

Adding the hardcoded moonlight-profile-id which will represent the apps that are going to be shown in the Moonlight UI
Adding a default user profile and copying over all the previously defined apps in here.
APIs
The currently available /api/v1/apps will now control the apps that will be shown in the Moonlight UI. There are 3 new endpoints to control profiles:

GET /api/v1/profiles returns a list of all defined profiles (most notably it wouldn't return the special "moonlight" profile, you'll have to use /api/v1/apps to interact with that one)
POST /api/v1/profiles/add takes a full profile object
POST /api/v1/profiles/remove takes just an id: the ID of the profile to be deleted
Hitting any of the apps or profiles endpoints will also automatically save the changes into the config.toml (if any).

I've yet to define how to associate streaming sessions with profiles and how that will play with CO-OP sessions, I'll start working on that now.

@Skerga, @salty2011 please let me know what you guys think and what else you would like to see added!

---

Introducing Lobbies
On top of profiles we are also introducing Lobbies, here are the highlights:

Key Features
Easy Co-op Session Joining:

Users can now seamlessly join cooperative game sessions from different Moonlight clients
Session Continuity Across Devices:

Start a gaming session on one device and continue it on another one without losing progress.
Watch Parties:

This will also make possible "watch parties" where users can observe game sessions without interacting. This is perfect for spectators who want to follow along without affecting the gameplay.

---

cool, feel free to close it if it's already fixed in edge ðŸ˜„
I'm working on another feature in wolf... I need sessions for apps that start in the background, and then clients can attach to them (rather than each client getting its own instance of an app). I'll share a WIP PR when I have it working
ABeltramo â€” 29/09/2025, 10:55
Not sure I get it, you can already start apps "in the background"? But I'm looking forward to the PR to better understand it
lewq â€” 29/09/2025, 11:09
@ABeltramo how do you start apps in the background? My understanding (could well be wrong!) is that you currently need a paired moonlight client to start an app, is that right?
my use case is that each AI agent gets its own desktop (which is a wolf app, and the agent runs inside that desktop), and users can connect via moonlight to help drive the agent later. But when we create a wolf app (agent desktop), we can't be waiting until a user connects to it in order for the agent to start doing useful work
lewq â€” 29/09/2025, 11:21
relatedly @ABeltramo am i right that two clients can't currently connect to the same session in wolf (unlike, say, sunshine)?
not a big deal at the moment just wanted to check my understanding
ABeltramo â€” 29/09/2025, 11:40
I'll have to double-check the latest in stable but that's definitely possible. You can spin up an app without anyone connected to Wolf. You can even do crazy stuff like streaming the app to Twitch and get inputs from the chat https://github.com/games-on-whales/twitch-plays-wolf ðŸ˜…
lewq â€” 29/09/2025, 11:40
oh how do you do that?
ABeltramo â€” 29/09/2025, 11:41
They definitely can, it's a bit convoluted in stable but it's way easier in wolf-ui and all API driven.
